<div class="p-4">
  <p-card>
    <h1 class="mt-5 ml-7 text-2xl">tblVendor</h1>
    <h1 class="mt-3 ml-7 text-slate-600">Select Vendor</h1>

    <form [formGroup]="vendorForm" class="card mt-4 ml-2 p-4">
      <!-- Dropdown -->
      <div class="flex flex-col w-[400px] space-y-2">
        <label for="selectedCity" class="text-gray-700 font-medium">Select Vendor</label>
        <p-dropdown 
          [options]="cities" 
          formControlName="selectedCity" 
          optionLabel="name"
          [checkmark]="true"
          [showClear]="true"
          placeholder="Select Vendor">
        </p-dropdown>
        <small *ngIf="vendorForm.get('selectedCity')?.touched && vendorForm.get('selectedCity')?.invalid" class="text-red-600">Vendor selection is required</small>
      </div>

      <!-- Divider -->
      <p-divider class="mt-4 w-full"></p-divider>

      <!-- Input Fields Group 1 -->
      <div class="flex flex-wrap gap-x-10 mt-4">
        <!-- Vendor ID -->
        <div class="flex flex-col w-[300px] space-y-2">
          <label for="vendorId" class="text-gray-700 font-medium">Vendor ID</label>
          <input id="vendorId" pInputText formControlName="vendorId" [disabled]="editingIndex !== null" class="w-full" />
          <small *ngIf="vendorForm.get('vendorId')?.touched && vendorForm.get('vendorId')?.errors?.['required']" class="text-red-600">Vendor ID is required</small>
          <small *ngIf="vendorForm.get('vendorId')?.errors?.['vendorExists']" class="text-red-600">Vendor ID already exists</small>
        </div>

        <!-- Account Number -->
        <div class="flex flex-col w-[300px] space-y-2">
          <label for="accountNo" class="text-gray-700 font-medium">Account No</label>
          <input id="accountNo" pInputText formControlName="accountNo" class="w-full" />
          <small *ngIf="vendorForm.get('accountNo')?.errors?.['maxlength']" class="text-red-600">Max 12 characters</small>
        </div>

        <!-- Vendor Name -->
        <div class="flex flex-col w-[300px] space-y-2">
          <label for="vendorName" class="text-gray-700 font-medium">Vendor Name</label>
          <input id="vendorName" pInputText formControlName="vendorName" class="w-full" />
          <small *ngIf="vendorForm.get('vendorName')?.touched && vendorForm.get('vendorName')?.errors?.['required']" class="text-red-600">Vendor name is required</small>
        </div>
      </div>

      <!-- Input Fields Group 2 -->
      <div class="flex flex-wrap gap-x-10 mt-4">
        <!-- MTD -->
        <div class="flex flex-col w-[300px] space-y-2">
          <label for="vendorMtd" class="text-gray-700 font-medium">MTD</label>
          <input id="vendorMtd" pInputText formControlName="vendorMtd" class="w-full" />
          <small *ngIf="vendorForm.get('vendorMtd')?.errors?.['pattern']" class="text-red-600">Only numeric values allowed</small>
        </div>

        <!-- YTD -->
        <div class="flex flex-col w-[300px] space-y-2">
          <label for="vendorYtd" class="text-gray-700 font-medium">YTD</label>
          <input id="vendorYtd" pInputText formControlName="vendorYtd" class="w-full" />
          <small *ngIf="vendorForm.get('vendorYtd')?.errors?.['pattern']" class="text-red-600">Only numeric values allowed</small>
        </div>
      </div>

      <!-- Remarks / Note -->
      <div class="flex flex-col w-[400px] mt-6 space-y-2">
        <label for="remarks" class="text-gray-700 font-medium">Note</label>
        <textarea id="remarks" rows="5" pTextarea formControlName="remarks" class="w-full p-inputtext"></textarea>
        <small *ngIf="vendorForm.get('remarks')?.errors?.['maxlength']" class="text-red-600">Max 100 characters</small>
      </div>

      <!-- Action Buttons -->
      <div class="flex flex-wrap gap-4 mt-10">
        <p-button label="Update" variant="outlined" severity="info" (onClick)="onUpdate()"></p-button>
        <p-button label="Add" variant="outlined" severity="success" (onClick)="onAdd()"></p-button>
        <p-button label="Delete" variant="outlined" severity="danger" (onClick)="onDelete()"></p-button>
        <p-button label="Refresh" variant="outlined" severity="secondary" (onClick)="onRefresh()"></p-button>
      </div>
    </form>
  </p-card>
</div>
